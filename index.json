[{"content":"Author: Nick Frichette\nOriginal Research: Ian Williams\nLink to Tool: GitHub\nWhen performing an AWS assessment you will likely encounter IAM Credentials. Traditionally, the majority of these that you would find would only be usable from the AWS CLI. Using a tool called AWS Consoler you can create links that will allow you to access the AWS Console. In this example we will walk through gathering credentials and using those credentials along with Consoler to generate a Console link.\nFirst, we need to gather valid IAM credentials. These are typically found a number of different ways. In this example, we have shell access to an EC2 instance with an attached role and we will curl the metadata service to access them.\nNext, install and compile AWS Consoler (install Python dependencies with pip and then do a sudo make install).\nFrom here invoke the Consoler tool and provide the -a (access key) -s (secret access key) and -t (session token) flags along with the retrieved values.\nThis will generate a link you can use to access the AWS Console.\n","description":"Leverage stolen credentials to use the AWS Console","id":0,"section":"aws","tags":null,"title":"AWS Consoler","uri":"https://hackingthe.cloud/aws/persistence/aws_consoler/"},{"content":"Work in Progress ","description":"","id":1,"section":"aws","tags":null,"title":"AWS Domain Takeover","uri":"https://hackingthe.cloud/aws/exploitation/aws-domain-takeover/"},{"content":"Work in Progress ","description":"Steal Some Keys but don't want Anyone To Know? This One Weird Trick Works","id":2,"section":"aws","tags":null,"title":"Bypass Credential Exfiltration Detection","uri":"https://hackingthe.cloud/aws/avoiding-detection/steal-keys-undetected/"},{"content":"Work in Progress ","description":"Your Tools Might Leak Your Intentions. Keep Them Quiet with This","id":3,"section":"aws","tags":null,"title":"Bypass GuardDuty Pentest Findings","uri":"https://hackingthe.cloud/aws/avoiding-detection/guardduty-pentest/"},{"content":"Work in Progress ","description":"","id":4,"section":"aws","tags":null,"title":"Cloudfrunt","uri":"https://hackingthe.cloud/aws/exploitation/cloudfrunt/"},{"content":"Work in Progress ","description":"What type of engagement are you looking to run with?","id":5,"section":"aws","tags":null,"title":"Consider Assessment Type","uri":"https://hackingthe.cloud/aws/general-knowledge/assessment-type/"},{"content":"Work in Progress ","description":"Abuse API Functionality to Escalate Privileges to AdministratorAccess","id":6,"section":"aws","tags":null,"title":"Escalate IAM Privileges","uri":"https://hackingthe.cloud/aws/privilege-escalation/escalate-iam-privs/"},{"content":"Work in Progress ","description":"Trying to go from www-data to root? Skip the Headache with the AWS API","id":7,"section":"aws","tags":null,"title":"Escalate Privileges in EC2 By Abusing AWS API","uri":"https://hackingthe.cloud/aws/privilege-escalation/escalate-priv-ec2/"},{"content":"Work in Progress ","description":"Old Faithful","id":8,"section":"aws","tags":null,"title":"Hijack IAM Keys with SSRF","uri":"https://hackingthe.cloud/aws/exploitation/ssrf-to-keys/"},{"content":"Author: Nick Frichette\nLast updated: 07/27/2020\nSource\n   Prefix Entity Type     ABIA AWS STS service bearer token   ACCA Context-specific credential   AGPA Group   AIDA IAM user   AIPA Amazon EC2 instance profile   AKIA Access key   ANPA Managed policy   ANVA Version in a managed policy   APKA Public key   AROA Role   ASCA Certificate   ASIA Temporary (AWS STS) keys    ","description":"Chart of the IAM ID Prefixes","id":9,"section":"aws","tags":null,"title":"IAM ID Identifiers","uri":"https://hackingthe.cloud/aws/general-knowledge/iam-key-identifiers/"},{"content":"Work in Progress ","description":"Keep Your Access by Chaining AssumeRole Calls","id":10,"section":"aws","tags":null,"title":"Retain API Access with Role Chain Juggling","uri":"https://hackingthe.cloud/aws/persistence/role-chain-juggling/"},{"content":"Work in Progress ","description":"Security Groups are Wacky","id":11,"section":"aws","tags":null,"title":"Tracked/Untracked Connections","uri":"https://hackingthe.cloud/aws/general-knowledge/tracked-untracked-connections/"}]